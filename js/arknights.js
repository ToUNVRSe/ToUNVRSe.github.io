"use strict";function getElement(t,e=document.documentElement){let s=e.querySelector(t);if(null===s)throw new Error("Unknown HTML");return s}function getParent(t,e=1){for(;e--;){let e=t.parentElement;if(null===e)throw new Error("Unknown HTML");t=e}return t}function format(t,...e){return t.replaceAll(/\$\*?[0-9]*/g,t=>{if("$*"===t)return"";let s=t.slice(1);return s>=e.length?"":e[s]})}class dust{constructor(t=50,e=50){this.vx=1*Math.random()+1,this.vy=1*Math.random()+.01,this.shadowBlur=3*Math.random(),this.shadowX=2*Math.random()-1,this.shadowY=2*Math.random()-1,this.radiusX=1.5*Math.random()+.5,this.radiusY=this.radiusX*(1*Math.random()+.3),this.rotation=Math.PI*Math.floor(2*Math.random()),this.x=t,this.y=e}}class canvasDust{constructor(t){this.color="#fff",this.width=300,this.height=300,this.dustQuantity=50,this.dustArr=[],this.inStop=!1,this.build=()=>{if(this.resize(),this.ctx){const t=canvasDust.getPoint(this.dustQuantity);for(let e of t){const t=new dust(e[0],e[1]);this.buildDust(t),this.dustArr.push(t)}requestAnimationFrame(this.paint)}},this.paint=()=>{if(this.inStop)return;const t=this.dustArr;for(let e of t)if(this.ctx.clearRect(e.x-6,e.y-6,12,12),e.x<-5||e.y<-5){const t=this.width,s=Math.floor(Math.random()*window.innerHeight);e.x=t,e.y=s}else e.x-=e.vx,e.y-=e.vy;for(let e of t)this.buildDust(e);requestAnimationFrame(this.paint)},this.buildDust=t=>{const e=this.ctx;e.beginPath(),e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY,e.ellipse(t.x,t.y,t.radiusX,t.radiusY,t.rotation,0,2*Math.PI),e.closePath(),e.fill()},this.resize=()=>{const t=this.canvas,e=window.innerWidth,s=window.innerHeight;this.width=e,this.height=s,this.dustQuantity=Math.floor((e+s)/38),t.width=e,t.height=s,this.ctx.shadowColor=this.ctx.fillStyle=this.color},this.stop=()=>{this.inStop=!0},this.play=()=>{!0===this.inStop&&(this.inStop=!1,requestAnimationFrame(this.paint))};const e=getElement(t);this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.build(),window.addEventListener("resize",this.resize)}}canvasDust.getPoint=(t=1)=>{let e=[];for(let s=0;s<t;++s){const t=Math.floor(Math.random()*window.innerWidth),s=Math.floor(Math.random()*window.innerHeight);e.push([t,s])}return e};try{var canvasDusts=new canvasDust("#canvas-dust")}catch(t){}class expands{constructor(){this.reverse=(t,e,s)=>{const i=getParent(t);i.classList.contains(e)?(i.classList.remove(e),i.classList.add(s)):(i.classList.remove(s),i.classList.add(e))},this.addEvent=t=>{t.addEventListener("click",e=>{"BUTTON"!==e.target.tagName&&"A"!==e.target.tagName&&this.reverse(t,"open","fold")}),t.addEventListener("keypress",e=>{"Enter"===e.key&&this.reverse(t,"open","fold")})},this.setHTML=()=>{document.querySelectorAll(".expand-box").forEach(t=>{this.addEvent(t.children[0])})}}}let expand=new expands;class Code{constructor(){this.mermaids=[],this.doAsMermaid=t=>{let e=t.querySelector(".mermaid");t.outerHTML='<div class="highlight mermaid">'+e.innerText+"</div>"},this.resetName=t=>"plaintext"==t?"TEXT":"cs"==t?"C#":"cpp"==t?"C++":t.toUpperCase(),this.doAsCode=t=>{const e=this.resetName(t.classList[1]),s=getElement(".gutter",t).children[0].childElementCount>>1;t.classList.add(s<16?"open":"fold"),t.classList.add("expand-box"),t.innerHTML=`<div class="ex-header" tabindex='0'>\n        <i class="i-status"></i>\n        <span class="ex-title">${format(config.code.codeInfo,e,s)}</span>\n      </div>\n      <div class="ex-content">${t.innerHTML}\n        <button class="code-copy" title="${config.code.copy}"></button>\n      </div>`,getElement(".code-copy",t).addEventListener("click",e=>{const s=e.target;navigator.clipboard.writeText(getElement("code",t).innerText),s.classList.add("copied"),setTimeout(()=>{s.classList.remove("copied")},1200)})},this.paintMermaid=()=>{"undefined"!=typeof mermaid&&(mermaid.initialize("dark"===document.documentElement.getAttribute("theme-mode")?{theme:"dark"}:{theme:"default"}),void 0!==mermaid.run?mermaid.run({querySelector:".mermaid"}):mermaid.init())},this.findCode=()=>{let t=document.querySelectorAll(".highlight");null!==t&&t.forEach(t=>{if(null===t.getAttribute("code-find")){try{t.classList.contains("mermaid")||null!==t.querySelector(".code-header")||(null!==t.querySelector(".mermaid")?this.doAsMermaid(t):this.doAsCode(t))}catch(t){return}t.setAttribute("code-find","")}}),document.querySelectorAll(".mermaid").forEach(t=>{this.mermaids.push(t.outerHTML)}),expand.setHTML()},this.resetMermaid=()=>{if("undefined"==typeof mermaid)return;let t=0;document.querySelectorAll(".mermaid").forEach(e=>{e.outerHTML=this.mermaids[t],++t}),this.paintMermaid()},this.findCode(),document.addEventListener("pjax:success",this.findCode),window.addEventListener("hexo-blog-decrypt",this.findCode)}}let code=new Code;class Cursor{constructor(){this.now=new MouseEvent(""),this.first=!0,this.last=0,this.moveIng=!1,this.fadeIng=!1,this.nowX=0,this.nowY=0,this.attention="a,input,button,textarea,\n    .navBtnIcon,\n    #post-content img,\n    .ex-header,\n    .gt-user-inner,\n    .wl-sort>li,\n    #valine .vicon,#valine .vat,\n    .lg-container img,.clickable",this.set=(t=this.nowX,e=this.nowY)=>{this.outer.transform=`translate(calc(${t.toFixed(2)}px - 50%),\n                  calc(${e.toFixed(2)}px - 50%))`},this.move=t=>{if(void 0!==this.now){let e=this.now.x-this.nowX,s=this.now.y-this.nowY;this.nowX+=e*Math.min(.025*(t-this.last),1),this.nowY+=s*Math.min(.025*(t-this.last),1),this.set(),this.last=t,Math.abs(e)>.1||Math.abs(s)>.1?window.requestAnimationFrame(this.move):(this.set(this.now.x,this.now.y),this.moveIng=!1)}},this.reset=t=>{this.outer.top="0",this.outer.left="0",this.moveIng||(this.moveIng=!0,window.requestAnimationFrame(this.move)),this.now=t,this.first&&(this.first=!1,this.nowX=this.now.x,this.nowY=this.now.y,this.set())},this.Aeffect=t=>{0==this.fadeIng&&(this.fadeIng=!0,this.effecter.left=String(t.x)+"px",this.effecter.top=String(t.y)+"px",this.effecter.transition="transform .5s cubic-bezier(0.22, 0.61, 0.21, 1)        ,opacity .5s cubic-bezier(0.22, 0.61, 0.21, 1)",this.effecter.transform="translate(-50%, -50%) scale(1)",this.effecter.opacity="0",setTimeout(()=>{this.fadeIng=!1,this.effecter.transition="",this.effecter.transform="translate(-50%, -50%) scale(0)",this.effecter.opacity="1"},500))},this.hold=()=>{this.outer.height="24px",this.outer.width="24px",this.outer.background="var(--theme-cursor-bg)"},this.relax=()=>{this.outer.height="36px",this.outer.width="36px",this.outer.background="unset"},this.pushHolder=()=>{document.querySelectorAll(this.attention).forEach(t=>{t.classList.contains("is--active")||(t.addEventListener("mouseover",this.hold,{passive:!0}),t.addEventListener("mouseout",this.relax,{passive:!0}))})};let t=document.createElement("div");t.id="cursor-container",t.innerHTML='<div id="cursor-outer"></div><div id="cursor-effect"></div>',document.body.appendChild(t),this.outer=getElement("#cursor-outer",t).style,this.outer.top="-100%",this.effecter=getElement("#cursor-effect",t).style,this.effecter.transform="translate(-50%, -50%) scale(0)",this.effecter.opacity="1",window.addEventListener("mousemove",this.reset,{passive:!0}),window.addEventListener("click",this.Aeffect,{passive:!0}),this.pushHolder();new MutationObserver(this.pushHolder).observe(document,{childList:!0,subtree:!0})}}new Cursor;class Index{constructor(){this.lastIndex=-1,this.headerLink=document.querySelectorAll("null"),this.tocLink=document.querySelectorAll("null"),this.setItem=t=>{t.classList.add("active");let e=getParent(t),s=e.children;for(let t=0,e=s.length;t<e;++t){const e=s.item(t);if(e.classList.contains("toc-child")){e.classList.add("has-active");break}}for(;"toc"!==e.classList[0];e=getParent(e))"toc-child"===e.classList[0]&&e.classList.add("has-active")},this.reset=t=>{let e=document.querySelectorAll("#toc-div .active"),s=document.querySelectorAll("#toc-div .has-active");e.forEach(e=>{e.contains(t)||e.classList.remove("active")}),s.forEach(e=>{e.parentElement.contains(t)||e.classList.remove("has-active")})},this.check=(t,e)=>t[e+1]>window.innerHeight/3||t[e]>0,this.modifyIndex=()=>{let t=[];if(this.headerLink.forEach(e=>{t.push(e.getBoundingClientRect().top)}),!(this.lastIndex>=0&&(this.lastIndex<1||!this.check(t,this.lastIndex-1))&&this.check(t,this.lastIndex))){for(let e=0;e<this.tocLink.length;++e){const s=this.tocLink.item(e);if(e+1===t.length||this.check(t,e))return this.lastIndex=e,this.setItem(s),void this.reset(s)}this.lastIndex=0,this.setItem(this.tocLink.item(0)),this.reset(this.tocLink.item(0))}},this.setHTML=()=>{try{this.headerLink=getElement("#post-content").querySelectorAll("h1,h2,h3,h4,h5,h6"),this.tocLink=document.querySelectorAll(".toc-link"),this.tocLink.length&&this.setItem(this.tocLink.item(0))}catch{}},this.setHTML(),document.addEventListener("pjax:success",this.setHTML),window.addEventListener("hexo-blog-decrypt",this.setHTML),getElement("main").addEventListener("scroll",()=>{this.tocLink.length&&this.modifyIndex()},{passive:!0})}}let indexs=new Index;class Header{constructor(){this.header=getElement("header"),this.button=getElement(".navBtnIcon"),this.closeSearch=!1,this.readyRev=!0,this.relabel=()=>{let t=this.header.querySelectorAll(".navItem"),e=0,s=t.item(0);if(t.forEach(t=>{try{let i=t,n=getElement("a",i);if(null!==n){let t=n.href,o=i.getAttribute("matchdata");if(i.classList.remove("active"),getParent(n)!=i)return;if(t.length>e&&null!==document.URL.match(t)&&(e=t.length,s=i),o){o.split(",").forEach(t=>{null!==document.URL.match(t)&&(s=i,e=1/0)})}}}catch(t){}}),null!==s)do{s.classList.contains("navItem")&&s.classList.add("active")}while(!(s=getParent(s)).classList.contains("navContent"))},this.inHeader=t=>{let e=this.header.getBoundingClientRect();(t.clientX<e.x||t.clientY<e.y||t.clientX>e.right||t.clientY>e.bottom)&&this.close()},this.open=(t=this.header)=>{t.classList.add("expanded"),t.classList.remove("closed"),scrolls.slideDown(),t===this.header&&(t.classList.add("moving"),setTimeout(()=>t.classList.remove("moving"),300)),document.addEventListener("click",this.inHeader)},this.close=(t=this.header)=>{document.removeEventListener("click",this.inHeader),t.classList.add("closed"),t.classList.remove("expanded"),t===this.header&&(t.classList.add("moving"),setTimeout(()=>t.classList.remove("moving"),300),this.closeAll(),getElement("nav",t).classList.remove("moved"))},this.reverse=(t=this.header)=>{this.closeSearch?this.closeSearch=!1:this.readyRev&&(this.readyRev=!1,t.classList.contains("expanded")?this.close(t):this.open(t),setTimeout(()=>this.readyRev=!0,300))},this.closeAll=()=>{this.header.querySelectorAll(".expanded").forEach(t=>t.classList.remove("expanded"))},this.relabel(),document.addEventListener("pjax:success",this.relabel),document.addEventListener("pjax:send",()=>this.close()),this.button.addEventListener("mousedown",()=>{document.querySelector(".search")&&(this.closeSearch=!0)}),this.button.onclick=()=>this.reverse(this.header),document.querySelectorAll(".navItemList").forEach(t=>{(t=getParent(t)).addEventListener("click",e=>{getParent(e.target)===t&&this.reverse(t)})})}}var header=new Header;class Scroll{constructor(){this.scrolling=0,this.getingtop=!1,this.height=0,this.visible=!1,this.touchX=0,this.touchY=2147483647,this.notMoveY=!1,this.reallyUp=!1,this.intop=!1,this.lastID=-1,this.scrolltop=()=>{getElement("main").scroll({top:0,left:0,behavior:"smooth"}),this.totop.style.opacity="0",this.getingtop=!0,setTimeout(()=>this.totop.style.display="none",300)},this.totopChange=t=>{t<-200?(this.totop.style.display="",this.visible=!0,setTimeout(()=>{this.visible&&(this.totop.style.opacity="1")},300)):(this.totop.style.opacity="0",this.visible=!1,setTimeout(()=>{this.visible||(this.totop.style.display="none")},300))},this.slideDown=()=>{if(!this.intop)return;const t=getElement("main").classList;document.querySelector(".expanded")||getElement(".navBtn").classList.add("hide-btn"),t.remove("up"),t.add("down"),t.add("down"),t.add("moving"),setTimeout(()=>{t.remove("down"),t.remove("moving")},300),this.intop=!1},this.slideUp=()=>{if(this.intop||document.querySelector(".moving"))return;if(!document.querySelector("#search-header"))return void getElement(".navBtn").classList.remove("hide-btn");const t=getElement("main").classList;getElement(".navBtn").classList.remove("hide-btn"),t.remove("down"),t.add("up"),t.add("moving"),this.intop=!0,setTimeout(()=>getElement("main").classList.remove("moving"),300)},this.setHTML=()=>{try{let t=getElement(".navBtn"),e=()=>{try{let e=getElement("article").getBoundingClientRect().top;if(e>0)return;document.querySelector(".expanded")||(this.height-e>100?(t.classList.add("hide-btn"),this.height=e):e>this.height&&(e-this.height>20&&t.classList.remove("hide-btn"),this.height=e)),++this.scrolling,setTimeout(()=>{--this.scrolling||(this.getingtop=!1)},100),this.getingtop||this.totopChange(e)}catch(t){}};getElement("main").addEventListener("scroll",e),this.height=0,this.visible=!1,this.totop=getElement("#to-top")}catch(t){}},this.checkTouchMove=t=>{t.changedTouches[0].identifier!==this.lastID&&(Math.abs(t.changedTouches[0].screenX-this.touchX)>50&&!this.reallyUp&&(this.notMoveY=!0),document.querySelector(".expanded")||window.innerWidth>1024||this.notMoveY||t.changedTouches[0].screenY===this.touchY||document.querySelector(".moving")||getElement("article").getBoundingClientRect().top>=0&&(this.reallyUp=!0,this.lastID=t.changedTouches[0].identifier,t.changedTouches[0].screenY>this.touchY?this.slideUp():this.slideDown(),this.touchY=t.changedTouches[0].screenY))},this.startTouch=t=>{this.touchX=t.changedTouches[0].screenX,this.touchY=t.changedTouches[0].screenY,this.notMoveY=!1},this.endTouch=t=>{t.changedTouches[0].identifier===this.lastID&&(this.lastID=-1)},document.addEventListener("pjax:success",this.setHTML),document.addEventListener("touchstart",this.startTouch),document.addEventListener("touchmove",this.checkTouchMove),document.addEventListener("touchend",this.endTouch),document.addEventListener("wheel",t=>{document.querySelector(".expanded")||window.innerWidth>1024||getElement("article").getBoundingClientRect().top>=0&&(t.deltaY<0?this.slideUp():this.slideDown())}),this.setHTML(),this.totop=document.querySelector("#to-top")}}var scrolls=new Scroll;class pjaxSupport{constructor(){this.loading=getElement(".loading"),this.left=getElement(".loadingBar.left"),this.right=getElement(".loadingBar.right"),this.timestamp=0,this.start=t=>{this.left.style.transform=`scaleX(${t})`,this.right.style.transform=`scaleX(${t})`,++this.timestamp},this.loaded=()=>{getElement("main").scrollTop=0,this.start(1),setTimeout(t=>{this.timestamp===t&&(this.loading.style.opacity="0")},600,this.timestamp)},this.fail=()=>{setTimeout(t=>{this.timestamp===t&&(this.start(0),this.loading.classList.add("fail"),setTimeout(t=>{this.timestamp===t&&(this.loading.style.opacity="0",this.loading.classList.remove("fail"))},600,this.timestamp))},600,this.timestamp)},document.addEventListener("pjax:send",()=>{getElement("main").classList.contains("up")&&scrolls.slideDown(),this.loading.classList.add("reset"),this.loading.classList.remove("fail"),this.start(0),setTimeout(t=>{this.timestamp===t&&(this.loading.classList.remove("reset"),this.start(.3),this.loading.style.opacity="1",setTimeout(t=>{this.timestamp===t&&this.start(.6)},1200,this.timestamp))},0,this.timestamp)}),document.addEventListener("pjax:start",this.loaded),document.addEventListener("pjax:error",this.fail)}}try{new pjaxSupport}catch(t){}class ColorMode{constructor(){this.html=document.documentElement,this.dark="dark"===this.html.getAttribute("theme-mode"),this.inChanging=!1,this.btn=getElement("#color-mode"),this.change=()=>{this.inChanging=!0;let t=document.createElement("div");t.style.transition="1.5s",t.innerHTML=`<div style='background: var(--${this.dark?"dark":"light"}-background);\n        height: 100vh; width: 100vw;\n        position: fixed; left: 0; top: 0; z-index: -99999;\n        background-attachment: fixed;\n        background-position: 50% 0;\n        background-repeat: no-repeat;\n        background-size: cover;'></div>`,document.body.insertBefore(t,document.body.firstChild),this.btn.style.pointerEvents="none",setTimeout(()=>{canvasDusts&&canvasDusts.stop(),this.dark?(this.html.setAttribute("theme-mode","light"),this.dark=!1,window.localStorage["theme-mode"]="light"):(this.html.setAttribute("theme-mode","dark"),this.dark=!0,window.localStorage["theme-mode"]="dark"),t.style.opacity="0",code.resetMermaid()}),setTimeout(()=>{document.body.removeChild(t),canvasDusts&&canvasDusts.play()},1500),setTimeout(()=>{this.btn.style.pointerEvents="",this.inChanging=!1},1e3)},document.addEventListener("keypress",t=>{this.inChanging||"c"===t.key&&t.target&&!["INPUT","TEXTAREA"].includes(t.target.tagName)&&this.change()})}}try{var colorMode=new ColorMode}catch(t){}class Pair{constructor(t,e){this.comment=t,this.button=e}}class Selectors{constructor(t=[],e=0){this.elements=[],this.changeTo=t=>{t!==this.nowActive&&(this.nowActive.comment.style.display="none",this.nowActive.button.classList.remove("active"),t.comment.style.display="",t.button.classList.add("active"),this.nowActive=t)},this.elements=t,this.nowActive=this.elements[e],this.elements.forEach(t=>t.comment.style.display="none"),this.nowActive=this.elements[0];for(let t of this.elements)t.button.addEventListener("click",()=>this.changeTo(t));this.nowActive.comment.style.display="",this.nowActive.button.classList.add("active")}}class Comments{constructor(){this.search=["valine","gitalk","waline"],this.elements=[],this.setHTML=()=>{document.querySelector("#comments .selector")&&(this.elements=[],this.search.forEach(t=>{try{this.elements.push(new Pair(getElement("#"+t),getElement(`.${t}-sel`)))}catch(t){}}),new Selectors(this.elements,0))},this.setHTML(),document.addEventListener("pjax:complete",this.setHTML)}}new Comments;